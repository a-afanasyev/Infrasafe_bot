# UK Management Bot - –ó–∞–¥–∞—á–∏

## üìã –¢–ï–ö–£–©–ò–ô –ü–†–û–ï–ö–¢: Telegram-–±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª—è—é—â–µ–π –∫–æ–º–ø–∞–Ω–∏–∏

### üéØ –ù–ê–ó–ù–ê–ß–ï–ù–ò–ï
–°–µ—Ä–≤–∏—Å-–¥–µ—Å–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª—è—é—â–µ–π –∫–æ–º–ø–∞–Ω–∏–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–æ–ª–µ–π, –∑–∞—è–≤–æ–∫, —Å–º–µ–Ω –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.

### üìä –°–¢–ê–¢–£–° –†–ê–ó–†–ê–ë–û–¢–ö–ò

#### ‚úÖ –≠–¢–ê–ü 1: –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (100% –ó–ê–í–ï–†–®–ï–ù)
- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–Ω–∞
- [x] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- [x] –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (User, Request, Shift, Rating, AuditLog)
- [x] –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Ä–æ–ª–µ–π
- [x] **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø–æ –ø–∞—Ä–æ–ª—é** (–∫–æ–º–∞–Ω–¥–∞ `/admin`, –ø–∞—Ä–æ–ª—å: 12345) - –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ä–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- [x] –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- [x] –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±–æ—Ç–∞ (main.py)
- [x] README —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- [x] –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (ru.json, uz.json)
- [x] –£—Ç–∏–ª–∏—Ç—ã –∏ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã

#### üîÑ –≠–¢–ê–ü 2: –°–∏—Å—Ç–µ–º–∞ –∑–∞—è–≤–æ–∫ (0% - –ü–õ–ê–ù –†–ê–ó–†–ê–ë–û–¢–ö–ò)

### üìã –î–ï–¢–ê–õ–¨–ù–´–ô –ü–õ–ê–ù –†–ê–ó–†–ê–ë–û–¢–ö–ò –°–ò–°–¢–ï–ú–´ –ó–ê–Ø–í–û–ö

#### üéØ –¶–ï–õ–¨ –≠–¢–ê–ü–ê
–°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∑–∞—è–≤–æ–∫ —Å FSM, –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º –∑–∞—è–≤–æ–∫.

#### üìä –ü–†–ò–û–†–ò–¢–ï–¢–´ –†–ê–ó–†–ê–ë–û–¢–ö–ò

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π - –æ—Å–Ω–æ–≤–∞ —Å–∏—Å—Ç–µ–º—ã):**
1. **FSM –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–æ–∫** - –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø–æ—Ç–æ–∫
2. **–ë–∞–∑–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –∏ –∫–Ω–æ–ø–æ–∫
3. **–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π** - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ã–±–æ—Ä–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω—ã–π - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å):**
1. **–°–µ—Ä–≤–∏—Å –∑–∞—è–≤–æ–∫** - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ CRUD –æ–ø–µ—Ä–∞—Ü–∏–π
2. **–ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫** - "–ú–æ–∏ –∑–∞—è–≤–∫–∏" –∏ –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–≤–µ–¥–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π - —É–ª—É—á—à–µ–Ω–∏—è):**
1. **–ú–µ–¥–∏–∞-—Å–µ—Ä–≤–∏—Å** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ
2. **–°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º
3. **–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### üîÑ –ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û–°–¢–¨ –†–ê–ó–†–ê–ë–û–¢–ö–ò

**–§–ê–ó–ê 1: –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (–ù–µ–¥–µ–ª—è 1)**

**–ó–∞–¥–∞—á–∞ 2.1: FSM –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–æ–∫** (–î–ï–¢–ê–õ–¨–ù–´–ô –ü–õ–ê–ù)

#### üéØ –¶–ï–õ–¨ –ó–ê–î–ê–ß–ò
–°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é FSM (Finite State Machine) –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–æ–∫ —Å 7 —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â—É—é —É–¥–æ–±–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö.

#### üìã –°–û–°–¢–û–Ø–ù–ò–Ø FSM

**–°–æ—Å—Ç–æ—è–Ω–∏–µ 1: `RequestCategory` - –≤—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏**
- [ ] –°–æ–∑–¥–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∑–∞—è–≤–æ–∫
- [ ] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ FSM
- [ ] –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é

**–°–æ—Å—Ç–æ—è–Ω–∏–µ 2: `RequestAddress` - –≤–≤–æ–¥ –∞–¥—Ä–µ—Å–∞**
- [ ] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞ –∞–¥—Ä–µ—Å–∞
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –∞–¥—Ä–µ—Å–∞ (–Ω–µ –ø—É—Å—Ç–æ–π, –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞)
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ –≤ FSM
- [ ] –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é

**–°–æ—Å—Ç–æ—è–Ω–∏–µ 3: `RequestDescription` - –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**
- [ ] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞ –æ–ø–∏—Å–∞–Ω–∏—è
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏—è (–Ω–µ –ø—É—Å—Ç–æ–µ, –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞)
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –≤ FSM
- [ ] –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é

**–°–æ—Å—Ç–æ—è–Ω–∏–µ 4: `RequestUrgency` - –≤—ã–±–æ—Ä —Å—Ä–æ—á–Ω–æ—Å—Ç–∏**
- [ ] –°–æ–∑–¥–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å —É—Ä–æ–≤–Ω—è–º–∏ —Å—Ä–æ—á–Ω–æ—Å—Ç–∏
- [ ] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ —Å—Ä–æ—á–Ω–æ—Å—Ç–∏
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ä–æ—á–Ω–æ—Å—Ç–∏ –≤ FSM
- [ ] –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é

**–°–æ—Å—Ç–æ—è–Ω–∏–µ 5: `RequestApartment` - –Ω–æ–º–µ—Ä –∫–≤–∞—Ä—Ç–∏—Ä—ã**
- [ ] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤–≤–æ–¥–∞ –Ω–æ–º–µ—Ä–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞ (—Ü–∏—Ñ—Ä—ã, –Ω–µ –ø—É—Å—Ç–æ–π)
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã –≤ FSM
- [ ] –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é

**–°–æ—Å—Ç–æ—è–Ω–∏–µ 6: `RequestMedia` - –∑–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**
- [ ] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ—Ç–æ –∏ –≤–∏–¥–µ–æ
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –∏ —Ç–∏–ø–∞ —Ñ–∞–π–ª–æ–≤
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ file_ids –≤ FSM
- [ ] –ü–µ—Ä–µ—Ö–æ–¥ –∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—é

**–°–æ—Å—Ç–æ—è–Ω–∏–µ 7: `RequestConfirm` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏**
- [ ] –ü–æ–∫–∞–∑–∞—Ç—å —Å–≤–æ–¥–∫—É –≤—Å–µ—Ö –≤–≤–µ–¥–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å/–ò–∑–º–µ–Ω–∏—Ç—å/–û—Ç–º–µ–Ω–∏—Ç—å"
- [ ] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

**–ó–∞–¥–∞—á–∞ 2.2: –ë–∞–∑–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏**
- [ ] `handlers/requests.py` - –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ FSM
- [ ] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É"
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–º–µ–Ω—ã –∏ –≤–æ–∑–≤—Ä–∞—Ç–∞
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–ó–∞–¥–∞—á–∞ 2.3: –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –≤—ã–±–æ—Ä–∞**
- [ ] `keyboards/requests.py` - –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- [ ] `keyboards/requests.py` - –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å—Ä–æ—á–Ω–æ—Å—Ç–∏
- [ ] Inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- [ ] –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ callback_query

**–§–ê–ó–ê 2: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–ù–µ–¥–µ–ª—è 2)**

**–ó–∞–¥–∞—á–∞ 2.4: –°–µ—Ä–≤–∏—Å –∑–∞—è–≤–æ–∫**
- [ ] `services/request_service.py` - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- [ ] –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –∑–∞—è–≤–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
- [ ] –ü–æ–∏—Å–∫ –ø–æ –∞–¥—Ä–µ—Å—É/–æ–ø–∏—Å–∞–Ω–∏—é

**–ó–∞–¥–∞—á–∞ 2.5: –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫**
- [ ] –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ "–ú–æ–∏ –∑–∞—è–≤–∫–∏"
- [ ] –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–∫–∏
- [ ] –ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
- [ ] –°—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ –∏ –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–ó–∞–¥–∞—á–∞ 2.6: –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤**
- [ ] –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Å—Ç–∞—Ç—É—Å–æ–≤
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–§–ê–ó–ê 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–ù–µ–¥–µ–ª—è 3)**

**–ó–∞–¥–∞—á–∞ 2.7: –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤**
- [ ] –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ñ–æ—Ç–æ –∏ –≤–∏–¥–µ–æ
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ file_ids –≤ –ë–î
- [ ] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ñ–∞–π–ª–æ–≤
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏

**–ó–∞–¥–∞—á–∞ 2.8: –ú–µ–¥–∏–∞-—Å–µ—Ä–≤–∏—Å**
- [ ] `services/media_service.py` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤
- [ ] –°–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤

**–ó–∞–¥–∞—á–∞ 2.9: –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è**
- [ ] –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ "–í—Å–µ –∑–∞—è–≤–∫–∏" (–¥–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π)
- [ ] –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –Ω–∞ –∑–∞—è–≤–∫–∏
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è—Ö
- [ ] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º

#### üìà –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –§–ê–ó–´ 1:**
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É —á–µ—Ä–µ–∑ FSM
- [ ] –í—Å–µ 7 —Å–æ—Å—Ç–æ—è–Ω–∏–π —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- [ ] –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –§–ê–ó–´ 2:**
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å–≤–æ–∏ –∑–∞—è–≤–∫–∏
- [ ] –°—Ç–∞—Ç—É—Å—ã –∑–∞—è–≤–æ–∫ –∏–∑–º–µ–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –§–ê–ó–´ 3:**
- [ ] –ú–µ–¥–∏–∞—Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- [ ] –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ –º–æ–≥—É—Ç –Ω–∞–∑–Ω–∞—á–∞—Ç—å—Å—è –Ω–∞ –∑–∞—è–≤–∫–∏
- [ ] –í—Å–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

#### üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø

**FSM –°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```python
# –°–æ—Å—Ç–æ—è–Ω–∏—è FSM
class RequestStates(StatesGroup):
    category = State()
    address = State()
    description = State()
    urgency = State()
    apartment = State()
    media = State()
    confirm = State()
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö FSM:**
```python
# –î–∞–Ω–Ω—ã–µ, —Å–æ—Ö—Ä–∞–Ω—è–µ–º—ã–µ –≤ FSM
class RequestData:
    category: str
    address: str
    description: str
    urgency: str
    apartment: str
    media_files: List[str]  # file_ids
    user_id: int
```

### –ó–∞–¥–∞—á–∞ 2.2: –£–ª—É—á—à–µ–Ω–∏–µ FSM –¥–ª—è –≤—ã–±–æ—Ä–∞ –∞–¥—Ä–µ—Å–∞ üìã –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–ï

**–¶–µ–ª—å**: –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–º–æ–π –¥–æ–º, –º–æ—è –∫–≤–∞—Ä—Ç–∏—Ä–∞, –º–æ–π –¥–≤–æ—Ä) –∏–ª–∏ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –∞–¥—Ä–µ—Å–∞ –≤ FSM —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–æ–∫.

**–ü–æ–¥–∑–∞–¥–∞—á–∏**:

#### 2.2.1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ User üìã –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–ï

**–¶–µ–ª—å**: –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –º–æ–¥–µ–ª—å User –∏ –æ–±–Ω–æ–≤–∏—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã.

**–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π –º–æ–¥–µ–ª–∏ User**:
```python
# –¢–µ–∫—É—â–∏–µ –ø–æ–ª—è –º–æ–¥–µ–ª–∏ User
class User(Base):
    id = Column(Integer, primary_key=True, index=True)
    telegram_id = Column(Integer, unique=True, index=True, nullable=False)
    username = Column(String(255), nullable=True)
    first_name = Column(String(255), nullable=True)
    last_name = Column(String(255), nullable=True)
    role = Column(String(50), default="applicant", nullable=False)
    status = Column(String(50), default="pending", nullable=False)
    language = Column(String(10), default="ru", nullable=False)
    phone = Column(String(20), nullable=True)
    address = Column(Text, nullable=True)  # –°—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ –∞–¥—Ä–µ—Å–∞
    created_at = Column(DateTime(timezone=True), server_default=func.now())
    updated_at = Column(DateTime(timezone=True), onupdate=func.now())
```

**–ü–æ–¥–∑–∞–¥–∞—á–∏**:

##### 2.2.1.1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π –≤ –º–æ–¥–µ–ª—å User
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `home_address` (Text, nullable=True) - –∞–¥—Ä–µ—Å –¥–æ–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `apartment_address` (Text, nullable=True) - –∞–¥—Ä–µ—Å –∫–≤–∞—Ä—Ç–∏—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `yard_address` (Text, nullable=True) - –∞–¥—Ä–µ—Å –¥–≤–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `address_type` (String(20), nullable=True) - —Ç–∏–ø –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞ (home/apartment/yard)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥ `__repr__` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–æ–ª–µ–π (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞, —Ñ–æ—Ä–º–∞—Ç)

##### 2.2.1.2: –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏ `database/migrations/add_user_addresses.py`
- [ ] –î–æ–±–∞–≤–∏—Ç—å SQL –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –∫–æ–ª–æ–Ω–æ–∫:
  ```sql
  ALTER TABLE users ADD COLUMN home_address TEXT;
  ALTER TABLE users ADD COLUMN apartment_address TEXT;
  ALTER TABLE users ADD COLUMN yard_address TEXT;
  ALTER TABLE users ADD COLUMN address_type VARCHAR(20);
  ```
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –æ—Ç–∫–∞—Ç–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ (rollback)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

##### 2.2.1.3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ AuthService
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `get_user_addresses(user_id: int)` –≤ AuthService
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `update_user_address(user_id: int, address_type: str, address: str)`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `get_user_address_by_type(user_id: int, address_type: str)`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –∞–¥—Ä–µ—Å–æ–≤ –≤ AuthService
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥ `get_or_create_user` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π —Å –∞–¥—Ä–µ—Å–∞–º–∏

##### 2.2.1.4: –°–æ–∑–¥–∞–Ω–∏–µ —É—Ç–∏–ª–∏—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–¥—Ä–µ—Å–∞–º–∏
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `utils/address_helpers.py`
- [ ] –§—É–Ω–∫—Ü–∏—è `validate_address(address: str) -> bool` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –∞–¥—Ä–µ—Å–∞
- [ ] –§—É–Ω–∫—Ü–∏—è `format_address(address: str) -> str` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥—Ä–µ—Å–∞
- [ ] –§—É–Ω–∫—Ü–∏—è `get_address_type_display(address_type: str) -> str` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–∏–ø–∞ –∞–¥—Ä–µ—Å–∞
- [ ] –§—É–Ω–∫—Ü–∏—è `get_available_addresses(user: User) -> dict` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤

##### 2.2.1.5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤ `utils/constants.py`:
  ```python
  # –¢–∏–ø—ã –∞–¥—Ä–µ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  ADDRESS_TYPE_HOME = "home"
  ADDRESS_TYPE_APARTMENT = "apartment"
  ADDRESS_TYPE_YARD = "yard"
  
  ADDRESS_TYPES = [ADDRESS_TYPE_HOME, ADDRESS_TYPE_APARTMENT, ADDRESS_TYPE_YARD]
  
  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –∞–¥—Ä–µ—Å–∞
  MAX_ADDRESS_LENGTH = 500
  ```

##### 2.2.1.6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∞–¥—Ä–µ—Å–∞–º–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤ –ø–æ —Ç–∏–ø—É
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –∞–¥—Ä–µ—Å–æ–≤
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:

**–ù–æ–≤—ã–µ –ø–æ–ª—è –º–æ–¥–µ–ª–∏ User**:
```python
# –ù–æ–≤—ã–µ –ø–æ–ª—è –¥–ª—è –∞–¥—Ä–µ—Å–æ–≤
home_address = Column(Text, nullable=True)
apartment_address = Column(Text, nullable=True)
yard_address = Column(Text, nullable=True)
address_type = Column(String(20), nullable=True)  # home/apartment/yard
```

**–ú–µ—Ç–æ–¥—ã AuthService**:
```python
async def get_user_addresses(self, user_id: int) -> dict:
    """–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∞–¥—Ä–µ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
    
async def update_user_address(self, user_id: int, address_type: str, address: str) -> bool:
    """–û–±–Ω–æ–≤–∏—Ç—å –∞–¥—Ä–µ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —Ç–∏–ø—É"""
    
async def get_user_address_by_type(self, user_id: int, address_type: str) -> str:
    """–ü–æ–ª—É—á–∏—Ç—å –∞–¥—Ä–µ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —Ç–∏–ø—É"""
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞**:
- [ ] –ù–æ–≤—ã–µ –ø–æ–ª—è –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –º–æ–¥–µ–ª—å User
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞
- [ ] AuthService –æ–±–Ω–æ–≤–ª–µ–Ω —Å –Ω–æ–≤—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏
- [ ] –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–¥—Ä–µ—Å–∞–º–∏ —Å–æ–∑–¥–∞–Ω—ã
- [ ] –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
- [ ] –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

**–í—Ä–µ–º—è**: 1 –¥–µ–Ω—å
- –£—Ç—Ä–æ: –ê–Ω–∞–ª–∏–∑ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π –≤ –º–æ–¥–µ–ª—å
- –î–µ–Ω—å: –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
- –í–µ—á–µ—Ä: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞

#### 2.2.2: –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –≤—ã–±–æ—Ä–∞ –∞–¥—Ä–µ—Å–∞
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `get_address_selection_keyboard()` –≤ keyboards/requests.py
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏:
  - üè† –ú–æ–π –¥–æ–º
  - üè¢ –ú–æ—è –∫–≤–∞—Ä—Ç–∏—Ä–∞  
  - üå≥ –ú–æ–π –¥–≤–æ—Ä
  - ‚úèÔ∏è –í–≤–µ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é
  - ‚ùå –û—Ç–º–µ–Ω–∞
- [ ] –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è –∞–¥—Ä–µ—Å–æ–≤ –≤ –ø—Ä–æ—Ñ–∏–ª–µ

#### 2.2.3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ FSM –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –¥–ª—è –∞–¥—Ä–µ—Å–∞
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ `RequestAddress` –¥–ª—è –ø–æ–∫–∞–∑–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –≤—ã–±–æ—Ä–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `RequestAddressManual` –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞
- [ ] –°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞
- [ ] –°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –∞–¥—Ä–µ—Å–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞

#### 2.2.4: –õ–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∞–¥—Ä–µ—Å–æ–≤ –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ AuthService –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–¥—Ä–µ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç–∏ –∞–¥—Ä–µ—Å–æ–≤
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞—è, –∫–æ–≥–¥–∞ –∞–¥—Ä–µ—Å–∞ –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
- [ ] –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ –≤ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ

#### 2.2.5: –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞
- [ ] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ú–æ–π –¥–æ–º"
- [ ] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ú–æ—è –∫–≤–∞—Ä—Ç–∏—Ä–∞"
- [ ] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ú–æ–π –¥–≤–æ—Ä"
- [ ] –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é FSM
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞ –≤ FSM –¥–∞–Ω–Ω—ã–µ

#### 2.2.6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- [ ] –¢–µ—Å—Ç —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ –∞–¥—Ä–µ—Å–∞–º–∏ –≤ –ø—Ä–æ—Ñ–∏–ª–µ
- [ ] –¢–µ—Å—Ç —Å –ø—É—Å—Ç—ã–º–∏ –∞–¥—Ä–µ—Å–∞–º–∏ –≤ –ø—Ä–æ—Ñ–∏–ª–µ
- [ ] –¢–µ—Å—Ç —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –∞–¥—Ä–µ—Å–∞
- [ ] –¢–µ—Å—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∞–¥—Ä–µ—Å–æ–≤
- [ ] –¢–µ—Å—Ç –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏

**FSM –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```python
class RequestStates(StatesGroup):
    category = State()
    address_selection = State()      # –í—ã–±–æ—Ä —Ç–∏–ø–∞ –∞–¥—Ä–µ—Å–∞
    address_manual = State()         # –†—É—á–Ω–æ–π –≤–≤–æ–¥ –∞–¥—Ä–µ—Å–∞
    description = State()
    urgency = State()
    apartment = State()
    media = State()
    confirm = State()
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞**:
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∞–¥—Ä–µ—Å
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–≤–µ—Å—Ç–∏ –∞–¥—Ä–µ—Å –≤—Ä—É—á–Ω—É—é
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è
- [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∞–¥—Ä–µ—Å–æ–≤
- [ ] –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ FSM
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ edge cases

**–í—Ä–µ–º—è**: 3 –¥–Ω—è
- –î–µ–Ω—å 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- –î–µ–Ω—å 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ FSM –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- –î–µ–Ω—å 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞

**–ú–æ–¥–µ–ª—å Request (—É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç):**
- category, status, address, description
- apartment, urgency, media_files
- user_id, executor_id
- created_at, updated_at, completed_at

**–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –≤—ã–±–æ—Ä–∞:**
```python
# –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞—è–≤–æ–∫ (–∏–∑ settings.py)
REQUEST_CATEGORIES = [
    "–≠–ª–µ–∫—Ç—Ä–∏–∫–∞", "–°–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞", "–û—Ç–æ–ø–ª–µ–Ω–∏–µ", "–í–µ–Ω—Ç–∏–ª—è—Ü–∏—è",
    "–õ–∏—Ñ—Ç", "–£–±–æ—Ä–∫–∞", "–ë–ª–∞–≥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ", "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",
    "–ò–Ω—Ç–µ—Ä–Ω–µ—Ç/–¢–í", "–î—Ä—É–≥–æ–µ"
]

# –£—Ä–æ–≤–Ω–∏ —Å—Ä–æ—á–Ω–æ—Å—Ç–∏
URGENCY_LEVELS = ["–û–±—ã—á–Ω–∞—è", "–°—Ä–æ—á–Ω–∞—è", "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è"]
```

**–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:**
- –ê–¥—Ä–µ—Å: –º–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤, –Ω–µ –ø—É—Å—Ç–æ–π
- –û–ø–∏—Å–∞–Ω–∏–µ: –º–∏–Ω–∏–º—É–º 20 —Å–∏–º–≤–æ–ª–æ–≤, –Ω–µ –ø—É—Å—Ç–æ–µ
- –ù–æ–º–µ—Ä –∫–≤–∞—Ä—Ç–∏—Ä—ã: —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã, –Ω–µ –ø—É—Å—Ç–æ–π
- –ú–µ–¥–∏–∞—Ñ–∞–π–ª—ã: –º–∞–∫—Å–∏–º—É–º 5 —Ñ–∞–π–ª–æ–≤, —Ä–∞–∑–º–µ—Ä –¥–æ 20MB

#### üéØ –†–ï–ó–£–õ–¨–¢–ê–¢ –ó–ê–î–ê–ß–ò 2.1
–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è FSM –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–æ–∫ —Å 7 —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∞—è:
- –£–¥–æ–±–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞–º–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—é –≤—Å–µ—Ö –≤–≤–æ–¥–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ FSM
- –û–±—Ä–∞–±–æ—Ç–∫—É –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º

#### üìä –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê –ó–ê–î–ê–ß–ò 2.1
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ –∫–æ–º–∞–Ω–¥–æ–π –∏–ª–∏ –∫–Ω–æ–ø–∫–æ–π
- [ ] –í—Å–µ 7 —Å–æ—Å—Ç–æ—è–Ω–∏–π FSM —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
- [ ] –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ FSM
- [ ] –ú–µ–¥–∏–∞—Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ó–∞—è–≤–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–º–µ–Ω—ã –∏ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

#### ‚è±Ô∏è –í–†–ï–ú–ï–ù–ù–´–ï –û–¶–ï–ù–ö–ò
- **–°–æ—Å—Ç–æ—è–Ω–∏—è 1-3**: 1 –¥–µ–Ω—å (–∫–∞—Ç–µ–≥–æ—Ä–∏—è, –∞–¥—Ä–µ—Å, –æ–ø–∏—Å–∞–Ω–∏–µ)
- **–°–æ—Å—Ç–æ—è–Ω–∏—è 4-5**: 1 –¥–µ–Ω—å (—Å—Ä–æ—á–Ω–æ—Å—Ç—å, –∫–≤–∞—Ä—Ç–∏—Ä–∞)
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ 6**: 1 –¥–µ–Ω—å (–º–µ–¥–∏–∞—Ñ–∞–π–ª—ã)
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ 7**: 1 –¥–µ–Ω—å (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ)
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞**: 1 –¥–µ–Ω—å
- **–û–±—â–µ–µ –≤—Ä–µ–º—è**: 5 –¥–Ω–µ–π

#### ‚è≥ –≠–¢–ê–ü 3: –°–∏—Å—Ç–µ–º–∞ —Å–º–µ–Ω –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

**–ó–∞–¥–∞—á–∞ 3.1: –ú–æ–¥–µ–ª—å –∏ —Å–µ—Ä–≤–∏—Å —Å–º–µ–Ω**
- [ ] –î–æ—Ä–∞–±–æ—Ç–∫–∞ –º–æ–¥–µ–ª–∏ `Shift`
- [ ] `services/shift_service.py` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–º–µ–Ω–∞–º–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–π —Å–º–µ–Ω—ã
- [ ] –õ–æ–≥–∏–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è/—Å–¥–∞—á–∏ —Å–º–µ–Ω—ã

**–ó–∞–¥–∞—á–∞ 3.2: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–º–µ–Ω**
- [ ] `handlers/shifts.py` - –∫–æ–º–∞–Ω–¥—ã —Å–º–µ–Ω
- [ ] "–ü—Ä–∏–Ω—è—Ç—å —Å–º–µ–Ω—É" / "–°–¥–∞—Ç—å —Å–º–µ–Ω—É"
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–º–µ–Ω–∞–º–∏
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–º–µ–Ω–∞—Ö

**–ó–∞–¥–∞—á–∞ 3.3: –°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**
- [ ] `services/notification_service.py` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] Retry –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –Ω–µ—É–¥–∞—á–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–ó–∞–¥–∞—á–∞ 3.4: –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**
- [ ] –ù–æ–≤—ã–µ –∑–∞—è–≤–∫–∏ - –≤ –æ–±—â–∏–π –∫–∞–Ω–∞–ª
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ - –∞–¥—Ä–µ—Å–Ω–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞
- [ ] "–ó–∞–∫—É–ø" —Å—Ç–∞—Ç—É—Å - –º–µ–Ω–µ–¥–∂–µ—Ä—É + –∫–∞–Ω–∞–ª
- [ ] "–£—Ç–æ—á–Ω–µ–Ω–∏–µ" —Å—Ç–∞—Ç—É—Å - –∑–∞—è–≤–∏—Ç–µ–ª—é
- [ ] –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ - –¥–ª—è –æ—Ü–µ–Ω–∫–∏

**–ó–∞–¥–∞—á–∞ 3.5: Middleware –¥–ª—è —Å–º–µ–Ω**
- [ ] `middlewares/shift_middleware.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–º–µ–Ω
- [ ] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ —Ç–æ–ª—å–∫–æ –≤ —Å–º–µ–Ω–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–π —Å–º–µ–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–∞—Ä—É—à–µ–Ω–∏—è—Ö

#### ‚è≥ –≠–¢–ê–ü 4: –û—Ü–µ–Ω–∫–∏ –∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

**–ó–∞–¥–∞—á–∞ 4.1: –ú–æ–¥–µ–ª—å –∏ —Å–µ—Ä–≤–∏—Å –æ—Ü–µ–Ω–æ–∫**
- [ ] –î–æ—Ä–∞–±–æ—Ç–∫–∞ –º–æ–¥–µ–ª–∏ `Rating`
- [ ] `services/rating_service.py` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–∫–∞–º–∏
- [ ] –°–±–æ—Ä –æ—Ü–µ–Ω–æ–∫ 1-5 –∑–≤–µ–∑–¥
- [ ] –¢–µ–∫—Å—Ç–æ–≤—ã–µ –æ—Ç–∑—ã–≤—ã

**–ó–∞–¥–∞—á–∞ 4.2: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—Ü–µ–Ω–æ–∫**
- [ ] `handlers/ratings.py` - —Å–±–æ—Ä –æ—Ü–µ–Ω–æ–∫
- [ ] Inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –æ—Ü–µ–Ω–æ–∫
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –æ—Ç–∑—ã–≤–æ–≤
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –æ—Ü–µ–Ω–∫–∞—Ö

**–ó–∞–¥–∞—á–∞ 4.3: –ê–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—ã**
- [ ] `handlers/admin.py` - –∞–¥–º–∏–Ω –∫–æ–º–∞–Ω–¥—ã
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- [ ] –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–º–µ–Ω–∞–º–∏

**–ó–∞–¥–∞—á–∞ 4.4: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏**
- [ ] –û–¥–æ–±—Ä–µ–Ω–∏–µ/–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–µ–π
- [ ] –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

**–ó–∞–¥–∞—á–∞ 4.5: –°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—Å—ã–ª–æ–∫**
- [ ] –†–∞—Å—Å—ã–ª–∫–∏ –ø–æ –¥–æ–º–∫–æ–º–∞–º
- [ ] –†–∞—Å—Å—ã–ª–∫–∏ –ø–æ –∂–∏—Ç–µ–ª—è–º
- [ ] –†–∞—Å—Å—ã–ª–∫–∏ –≤ –æ–±—â–∏–π –∫–∞–Ω–∞–ª
- [ ] –®–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π

#### ‚è≥ –≠–¢–ê–ü 5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –¥–∞—à–±–æ—Ä–¥ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

**–ó–∞–¥–∞—á–∞ 5.1: Google Sheets –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
- [ ] `integrations/google_sheets.py` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] OAuth2 –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Google Sheets API
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–ó–∞–¥–∞—á–∞ 5.2: –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö**
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –∑–∞—è–≤–æ–∫ –≤ –ª–∏—Å—Ç—ã
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- [ ] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤

**–ó–∞–¥–∞—á–∞ 5.3: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
- [ ] `dashboard/` - Flask/FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- [ ] –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- [ ] –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

**–ó–∞–¥–∞—á–∞ 5.4: API –¥–∞—à–±–æ—Ä–¥–∞**
- [ ] REST API –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞
- [ ] –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –∑–∞—è–≤–æ–∫
- [ ] –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel/PDF

**–ó–∞–¥–∞—á–∞ 5.5: –°–∏—Å—Ç–µ–º–∞ –∞—É–¥–∏—Ç–∞**
- [ ] –î–æ—Ä–∞–±–æ—Ç–∫–∞ –º–æ–¥–µ–ª–∏ `AuditLog`
- [ ] `services/audit_service.py` - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
- [ ] –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

**–ó–∞–¥–∞—á–∞ 5.6: –¢–µ—Å—Ç—ã**
- [ ] Unit —Ç–µ—Å—Ç—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤
- [ ] Integration —Ç–µ—Å—Ç—ã –¥–ª—è API
- [ ] End-to-end —Ç–µ—Å—Ç—ã –¥–ª—è –±–æ—Ç–∞
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- Python 3.11+
- Aiogram 3.x
- SQLAlchemy + SQLite
- Google Sheets API (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:**
```
uk_management_bot/
‚îú‚îÄ‚îÄ config/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ database/        # –ú–æ–¥–µ–ª–∏ –ë–î
‚îú‚îÄ‚îÄ handlers/        # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îú‚îÄ‚îÄ keyboards/       # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ services/        # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ middlewares/     # Middleware
‚îú‚îÄ‚îÄ utils/           # –£—Ç–∏–ª–∏—Ç—ã –∏ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
‚îú‚îÄ‚îÄ admin/           # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îú‚îÄ‚îÄ dashboard/       # –î–∞—à–±–æ—Ä–¥
‚îî‚îÄ‚îÄ integrations/    # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
```

### üìä –ë–ê–ó–ê –î–ê–ù–ù–´–•

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:**
- `users` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Ä–æ–ª–∏
- `requests` - –ó–∞—è–≤–∫–∏ —Å —Å—Ç–∞—Ç—É—Å–∞–º–∏
- `shifts` - –°–∏—Å—Ç–µ–º–∞ —Å–º–µ–Ω
- `ratings` - –û—Ü–µ–Ω–∫–∏ –∏ –æ—Ç–∑—ã–≤—ã
- `audit_logs` - –ê—É–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏–π

### üéØ –ü–†–ò–û–†–ò–¢–ï–¢–´ –ò –ó–ê–í–ò–°–ò–ú–û–°–¢–ò

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
1. **–≠—Ç–∞–ø 2** ‚Üí **–≠—Ç–∞–ø 3**: –°–º–µ–Ω—ã —Ç—Ä–µ–±—É—é—Ç –≥–æ—Ç–æ–≤—ã—Ö –∑–∞—è–≤–æ–∫
2. **–≠—Ç–∞–ø 3** ‚Üí **–≠—Ç–∞–ø 4**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ç—Ä–µ–±—É—é—Ç –≥–æ—Ç–æ–≤—ã—Ö —Å–º–µ–Ω
3. **–≠—Ç–∞–ø 4** ‚Üí **–≠—Ç–∞–ø 5**: –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Ç—Ä–µ–±—É–µ—Ç –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
1. **–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: FSM –∑–∞—è–≤–æ–∫, —Å–∏—Å—Ç–µ–º–∞ —Å–º–µ–Ω, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
2. **–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –û—Ü–µ–Ω–∫–∏, –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å, —Ä–∞—Å—Å—ã–ª–∫–∏
3. **–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –î–∞—à–±–æ—Ä–¥, Google Sheets, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### üìà –ú–ï–¢–†–ò–ö–ò –ü–†–û–ì–†–ï–°–°–ê

**–í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏:**
- **–≠—Ç–∞–ø 2**: 2-3 –Ω–µ–¥–µ–ª–∏ (—Å–∞–º—ã–π —Å–ª–æ–∂–Ω—ã–π)
- **–≠—Ç–∞–ø 3**: 1-2 –Ω–µ–¥–µ–ª–∏
- **–≠—Ç–∞–ø 4**: 1-2 –Ω–µ–¥–µ–ª–∏  
- **–≠—Ç–∞–ø 5**: 2-3 –Ω–µ–¥–µ–ª–∏
- **–û–±—â–µ–µ –≤—Ä–µ–º—è**: 6-10 –Ω–µ–¥–µ–ª—å

**–ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —ç—Ç–∞–ø–∞–º:**
- **–≠—Ç–∞–ø 1**: 100% –∑–∞–≤–µ—Ä—à–µ–Ω
- **–≠—Ç–∞–ø 2**: 0% (–≥–æ—Ç–æ–≤ –∫ –Ω–∞—á–∞–ª—É)
- **–≠—Ç–∞–ø 3**: 0% (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- **–≠—Ç–∞–ø 4**: 0% (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- **–≠—Ç–∞–ø 5**: 0% (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- **–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å**: 20%

### üîß –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–ù–∞—á–∞—Ç—å —Å –≠—Ç–∞–ø–∞ 2**: FSM –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–æ–∫
2. **–°–æ–∑–¥–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Å—Ä–æ—á–Ω–æ—Å—Ç—å
3. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –º–µ–¥–∏–∞**: —Ñ–æ—Ç–æ –∏ –≤–∏–¥–µ–æ
4. **–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é**: –≤—Å–µ—Ö –ø–æ–ª–µ–π –∑–∞—è–≤–∫–∏
5. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**

### üìù –ó–ê–ú–ï–¢–ö–ò

- –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –ö–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω —Å —É—á–µ—Ç–æ–º –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏
- –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –æ—Å–Ω–æ–≤–∞ –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞–Ω–∏—Ä—É–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –±–∞–∑–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –∑–∞–¥–∞—á —Å–æ–∑–¥–∞–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
- **–í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ä–∞**: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø–æ –ø–∞—Ä–æ–ª—é (12345) –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
