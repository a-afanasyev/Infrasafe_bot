# –ü–†–û–ï–ö–¢: Telegram-–±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª—è—é—â–µ–π –∫–æ–º–ø–∞–Ω–∏–∏

## üéØ –ù–ê–ó–ù–ê–ß–ï–ù–ò–ï
–°–µ—Ä–≤–∏—Å-–¥–µ—Å–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª—è—é—â–µ–π –∫–æ–º–ø–∞–Ω–∏–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–æ–ª–µ–π, –∑–∞—è–≤–æ–∫, —Å–º–µ–Ω –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.

## üìã –û–°–ù–û–í–ù–û–ô –§–£–ù–ö–¶–ò–û–ù–ê–õ

### üë• –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π:
- **–ó–∞—è–≤–∏—Ç–µ–ª—å (–¥–æ–º–∫–æ–º)** - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫, –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –∑–∞—è–≤–æ–∫, –æ—Ü–µ–Ω–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö
- **–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å (—Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫/—ç–ª–µ–∫—Ç—Ä–∏–∫)** - –ø—Ä–æ—Å–º–æ—Ç—Ä –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –∑–∞—è–≤–æ–∫, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ —Å–º–µ–Ω–µ, –∑–∞–≥—Ä—É–∑–∫–∞ –æ—Ç—á–µ—Ç–æ–≤
- **–ú–µ–Ω–µ–¥–∂–µ—Ä** - –ø–æ–ª–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–º–µ–Ω–∞–º–∏, –∞–¥–º–∏–Ω-—Ñ—É–Ω–∫—Ü–∏–∏

### üìù –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏:
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞—è–≤–æ–∫**: 10 –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–≠–ª–µ–∫—Ç—Ä–∏–∫–∞, –°–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞, –û—Ç–æ–ø–ª–µ–Ω–∏–µ, –∏ —Ç.–¥.)
- **–ü–æ–ª—è –∑–∞—è–≤–∫–∏**: –∞–¥—Ä–µ—Å, –æ–ø–∏—Å–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, —Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ, —Å—Ä–æ—á–Ω–æ—Å—Ç—å, –∫–≤–∞—Ä—Ç–∏—Ä–∞
- **–°—Ç–∞—Ç—É—Å—ã**: –Ω–æ–≤–∞—è, –ø—Ä–∏–Ω—è—Ç–∞, –≤ —Ä–∞–±–æ—Ç–µ, –∑–∞–∫—É–ø, —É—Ç–æ—á–Ω–µ–Ω–∏–µ, –≤—ã–ø–æ–ª–Ω–µ–Ω–∞, –ø—Ä–∏–Ω—è—Ç–∞, –æ—Ç–º–µ–Ω–µ–Ω–∞

### üîÑ –°–∏—Å—Ç–µ–º–∞ —Å–º–µ–Ω:
- –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: "—Å–¥–∞–ª —Å–º–µ–Ω—É" / "–ø—Ä–∏–Ω—è–ª —Å–º–µ–Ω—É"
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: —Ç–æ–ª—å–∫–æ –≤ —Å–º–µ–Ω–µ –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å —Å—Ç–∞—Ç—É—Å—ã –∑–∞—è–≤–æ–∫ (–ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ `ShiftService.is_user_in_active_shift`)
- –ö–æ–Ω—Ç—Ä–æ–ª—å –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π

### üì¢ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –æ–±—â–∏–π Telegram-–∫–∞–Ω–∞–ª –∏ –∞–¥—Ä–µ—Å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º/–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º
- –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω—ã; –ø–æ–¥–¥–µ—Ä–∂–∞–Ω—ã async-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è —Å–º–µ–Ω –∏ —Å–º–µ–Ω—ã —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞—è–≤–æ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö (—Å—Ç–∞—Ä—Ç/–∫–æ–Ω–µ—Ü —Å–º–µ–Ω—ã, —Å–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–∫–∏)

### ‚≠ê –û—Ü–µ–Ω–∫–∏ –∏ –æ—Ç–∑—ã–≤—ã:
- –°–±–æ—Ä –æ—Ü–µ–Ω–∫–∏ –æ—Ç 1 –¥–æ 5 –∑–≤–µ–∑–¥
- –¢–µ–∫—Å—Ç–æ–≤—ã–µ –æ—Ç–∑—ã–≤—ã
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –∫–∞—á–µ—Å—Ç–≤—É —Ä–∞–±–æ—Ç—ã

### üîß –ê–¥–º–∏–Ω-—Ñ—É–Ω–∫—Ü–∏–∏:
- –†—É—á–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–º–µ–Ω–∞–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –†–∞—Å—Å—ã–ª–∫–∏ –ø–æ –¥–æ–º–∫–æ–º–∞–º, –∂–∏—Ç–µ–ª—è–º, –æ–±—â–∏–π –∫–∞–Ω–∞–ª

### üìã –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª ‚Äî –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è

- Middleware –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å–º–µ–Ω—ã: `shift_context_middleware` –ø—Ä–æ–∫–ª–∞–¥—ã–≤–∞–µ—Ç `data['shift_context']` —Å —Ñ–ª–∞–≥–æ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å–º–µ–Ω—ã.
- –°—Ç–∞—Ä—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞: `send_startup_notification` –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –∏ –≤ –∫–∞–Ω–∞–ª (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ).
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –∑–∞—è–≤–æ–∫: `get_status_filter_inline_keyboard`, `get_category_filter_inline_keyboard`, `get_period_filter_inline_keyboard`, `get_executor_filter_inline_keyboard`, `get_reset_filters_inline_keyboard`, `get_pagination_keyboard`.
- –î–µ–π—Å—Ç–≤–∏—è –ø–æ –∑–∞—è–≤–∫–µ –≤ –¥–µ—Ç–∞–ª—è—Ö: `get_request_actions_keyboard` —Å callback `accept_`, `clarify_`, `purchase_`, `complete_`, `approve_`, `cancel_`.
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
  - –°–º–µ–Ω—ã: `notify_shift_started`, `notify_shift_ended`; async: `async_notify_shift_started`, `async_notify_shift_ended` –∏ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π.
  - –ó–∞—è–≤–∫–∏: `async_notify_request_status_changed` —Å —à–∞–±–ª–æ–Ω–∞–º–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –∏ –∫–∞–Ω–∞–ª–∞.

### üìä –î–∞—à–±–æ—Ä–¥:
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ Google Sheets
- –§–∏–ª—å—Ç—Ä—ã: –ø–æ —Å—Ç–∞—Ç—É—Å—É, –¥–æ–º—É, –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—é
- –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏
- –ì–µ–æ–ø—Ä–∏–≤—è–∑–∫–∞ (–¥–æ–º–∞ –Ω–∞ –∫–∞—Ä—Ç–µ)

## üèóÔ∏è –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
- **Python 3.11+** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫
- **Aiogram 3.x** - Telegram Bot API
- **SQLAlchemy** - ORM –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **SQLite** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
- **Google Sheets API** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
- –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –ø–æ —Ä–æ–ª—è–º
- FSM-—Å—Ü–µ–Ω—ã –¥–ª—è –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–∫–∏, —Å–º–µ–Ω, –æ—Ü–µ–Ω–æ–∫
- Middleware –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ Telegram ID
- –†—É—á–Ω–æ–µ –æ–¥–æ–±—Ä–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –∏ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- –ê—É–¥–∏—Ç –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
- –ó–∞–ø—Ä–µ—Ç –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫

## üåê –õ–û–ö–ê–õ–ò–ó–ê–¶–ò–Ø
- **–†—É—Å—Å–∫–∏–π —è–∑—ã–∫** - –æ—Å–Ω–æ–≤–Ω–æ–π
- **–£–∑–±–µ–∫—Å–∫–∏–π —è–∑—ã–∫** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –∏–∑ Telegram
- JSON —Ñ–∞–π–ª—ã –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤

## üìà –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
- Google Sheets –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö API
- Webhook –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–∏—Å—Ç–µ–º

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞:
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞—è–≤–∫–∞–º
- –û—Ç—á–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º
- –ê–Ω–∞–ª–∏–∑ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ì–µ–æ–∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —É–ø—Ä–∞–≤–ª—è—é—â–∏—Ö –∫–æ–º–ø–∞–Ω–∏–π
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

## üéØ –¶–ï–õ–ò –ü–†–û–ï–ö–¢–ê

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ:
1. ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
2. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∑–∞—è–≤–æ–∫
3. ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Å–º–µ–Ω –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
4. ‚úÖ –ú–Ω–æ–≥–æ—Ä–æ–ª–µ–≤–æ–π —Ä–µ–∂–∏–º
5. ‚úÖ AUTH P1-P2: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Å–∏—Å—Ç–µ–º–∞ –∏–Ω–≤–∞–π—Ç–æ–≤ üÜï
6. üîÑ AUTH P3: –ü–∞–Ω–µ–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞
7. –û—Ü–µ–Ω–∫–∏ –∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
8. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –¥–∞—à–±–æ—Ä–¥

**üéØ –ü–æ—Å–ª–µ–¥–Ω–µ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ**: –ó–∞–≤–µ—Ä—à–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∏–Ω–≤–∞–π—Ç–æ–≤ —Å HMAC —Ç–æ–∫–µ–Ω–∞–º–∏, rate limiting –∏ –ø–æ–ª–Ω—ã–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º (AUTH P2)

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ:
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM —Å–∏—Å—Ç–µ–º–∞–º–∏
- AI –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏ –∑–∞—è–≤–æ–∫
