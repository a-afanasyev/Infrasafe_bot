# Bot Gateway Service - Environment Variables Example
# Copy this file to .env and fill in your values

# Application
APP_NAME="Bot Gateway Service"
APP_VERSION="1.0.0"
DEBUG=false
ENVIRONMENT=development

# Telegram Bot
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_USE_WEBHOOK=false
TELEGRAM_WEBHOOK_URL=https://your-domain.com/webhook
TELEGRAM_WEBHOOK_SECRET=your_webhook_secret
TELEGRAM_POLLING_TIMEOUT=30

# Multi-tenancy
MANAGEMENT_COMPANY_ID=uk_company_1

# Database (PostgreSQL)
DATABASE_URL=postgresql+asyncpg://bot_gateway_user:bot_gateway_pass@bot-gateway-db:5432/bot_gateway_db
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# Redis (FSM Storage + Cache)
REDIS_URL=redis://redis:6379/4
REDIS_MAX_CONNECTIONS=50
REDIS_FSM_TTL=3600
REDIS_SESSION_TTL=86400

# Microservices URLs
AUTH_SERVICE_URL=http://auth-service:8001
USER_SERVICE_URL=http://user-service:8002
REQUEST_SERVICE_URL=http://request-service:8003
SHIFT_SERVICE_URL=http://shift-service:8004
NOTIFICATION_SERVICE_URL=http://notification-service:8005
ANALYTICS_SERVICE_URL=http://analytics-service:8006
AI_SERVICE_URL=http://ai-service:8007
MEDIA_SERVICE_URL=http://media-service:8008
INTEGRATION_SERVICE_URL=http://integration-service:8009

# JWT Authentication
JWT_SECRET_KEY=change-this-secret-key-in-production-minimum-32-chars
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MESSAGES_PER_MINUTE=20
RATE_LIMIT_MESSAGES_PER_HOUR=100
RATE_LIMIT_COMMANDS_PER_MINUTE=5

# Flood Control
FLOOD_WAIT_TIME=1.5
FLOOD_THROTTLE_TIME=3.0

# Session Management
SESSION_LIFETIME_HOURS=24
SESSION_CLEANUP_INTERVAL_HOURS=1

# File Handling
MAX_FILE_SIZE_MB=20
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,doc,docx
FILE_STORAGE_PATH=/app/storage/files

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
SENTRY_DSN=

# Monitoring
PROMETHEUS_ENABLED=true
METRICS_PORT=9090

# Message Defaults
DEFAULT_LANGUAGE=ru
SUPPORTED_LANGUAGES=ru,uz
MESSAGE_PARSE_MODE=HTML

# Timeouts
HTTP_TIMEOUT_SECONDS=30
SERVICE_CALL_TIMEOUT_SECONDS=10
SERVICE_CALL_RETRIES=3

# Feature Flags
ENABLE_ADMIN_COMMANDS=true
ENABLE_SHIFT_MANAGEMENT=true
ENABLE_REQUEST_CREATION=true
ENABLE_ANALYTICS_ACCESS=false

# Webhook Settings (if using webhooks)
WEBHOOK_HOST=0.0.0.0
WEBHOOK_PORT=8000
WEBHOOK_PATH=/webhook

# Security
ALLOWED_UPDATES=message,callback_query,inline_query
SKIP_UPDATES=false
