# ü§ñ AI Service - –¢–µ–∫—É—â–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (Stage 1)
**UK Management Bot - –ß—Ç–æ —Å–µ—Ä–≤–∏—Å –†–ï–ê–õ–¨–ù–û —É–º–µ–µ—Ç –¥–µ–ª–∞—Ç—å**

---

## ‚úÖ **–†–ê–ë–û–¢–ê–Æ–©–ò–ï –§–£–ù–ö–¶–ò–ò**

### üéØ **Basic Assignment - –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è**
AI —Å–µ—Ä–≤–∏—Å **—É—Å–ø–µ—à–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç** –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–≤–æ—é –æ—Å–Ω–æ–≤–Ω—É—é –∑–∞–¥–∞—á—É:

```bash
# ‚úÖ –†–ê–ë–û–¢–ê–ï–¢: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –Ω–∞ –∑–∞—è–≤–∫—É
curl -X POST http://localhost:8006/api/v1/assignments/basic-assign \
  -H "Content-Type: application/json" \
  -d '{
    "request_number": "250929-001",
    "category": "plumber",
    "urgency": 4,
    "description": "–°—Ä–æ—á–Ω—ã–π —Ä–µ–º–æ–Ω—Ç",
    "address": "–ß–∏–ª–∞–Ω–∑–∞—Ä, –¥–æ–º 15"
  }'

# –†–ï–ó–£–õ–¨–¢–ê–¢:
{
  "request_number": "250929-001",
  "success": true,
  "executor_id": 1,
  "algorithm": "basic_rules",
  "score": 0.875,
  "factors": {
    "specialization_match": true,
    "efficiency_score": 85.0,
    "current_load": 2,
    "capacity": 5,
    "district": "–ß–∏–ª–∞–Ω–∑–∞—Ä",
    "executor_name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤"
  },
  "processing_time_ms": 0,
  "fallback_used": false
}
```

### üìä **–°–∏—Å—Ç–µ–º–∞ –≤–∑–≤–µ—à–µ–Ω–Ω–æ–≥–æ —Å–∫–æ—Ä–∏–Ω–≥–∞**
–°–µ—Ä–≤–∏—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º** –¥–ª—è –≤—ã–±–æ—Ä–∞ –ª—É—á—à–µ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è:

```python
# –í–µ—Å–∞ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π:
WEIGHTS = {
    "specialization_match": 40%,  # –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
    "efficiency_score": 30%,      # –†–µ–π—Ç–∏–Ω–≥ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
    "workload_balance": 20%,      # –¢–µ–∫—É—â–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
    "availability": 10%           # –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
}

# –ò—Ç–æ–≥–æ–≤—ã–π score = 0.875 (87.5% —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è)
```

### üèÜ **Recommendations - –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π**
–°–µ—Ä–≤–∏—Å –º–æ–∂–µ—Ç **—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π** –ø–æ –ø—Ä–∏–≥–æ–¥–Ω–æ—Å—Ç–∏:

```bash
# ‚úÖ –†–ê–ë–û–¢–ê–ï–¢: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º
curl http://localhost:8006/api/v1/assignments/recommendations/250929-001

# –†–ï–ó–£–õ–¨–¢–ê–¢ - –¢–û–ü-3 –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è:
[
  {
    "executor_id": 3,
    "score": 0.976,           # 97.6% —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è
    "executor_name": "–°–µ—Ä–≥–µ–π –°–µ—Ä–≥–µ–µ–≤",
    "reasoning": "–¢–æ—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏"
  },
  {
    "executor_id": 2,
    "score": 0.701,           # 70.1% —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è
    "executor_name": "–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤",
    "reasoning": "–ë–∞–∑–æ–≤–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏—è–º"
  },
  {
    "executor_id": 1,
    "score": 0.675,           # 67.5% —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è
    "executor_name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "reasoning": "–í—ã—Å–æ–∫–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å"
  }
]
```

### üìà **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
```bash
# ‚úÖ –†–ê–ë–û–¢–ê–ï–¢: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–∞
curl http://localhost:8006/api/v1/assignments/stats

{
  "stage": "4_production_integration",
  "ml_enabled": false,
  "geo_enabled": false,
  "total_assignments": 0,
  "success_rate": 0.0,
  "algorithms": {
    "basic_rules": 0
  },
  "features_available": [
    "basic_assignment",
    "executor_recommendations"
  ]
}
```

### üè• **Health Monitoring**
```bash
# ‚úÖ –†–ê–ë–û–¢–ê–ï–¢: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞
curl http://localhost:8006/health

{
  "status": "healthy",
  "service": "ai-service",
  "version": "1.0.0",
  "stage": "4_production_integration",
  "ml_enabled": false,
  "geo_enabled": false
}
```

---

## üéØ **–ö–ê–ö –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢**

### **1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π (Mock Data)**
–°–µ—Ä–≤–∏—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ç–µ—Å—Ç–æ–≤—É—é –±–∞–∑—É –∏–∑ 3 –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π**:

```python
EXECUTORS = [
    {
        "id": 1, "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
        "specializations": ["plumber"],     # –°–∞–Ω—Ç–µ—Ö–Ω–∏–∫
        "district": "–ß–∏–ª–∞–Ω–∑–∞—Ä",
        "efficiency_score": 85.0,
        "workload_capacity": 5
    },
    {
        "id": 2, "name": "–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤",
        "specializations": ["electrician"], # –≠–ª–µ–∫—Ç—Ä–∏–∫
        "district": "–Æ–Ω—É—Å–∞–±–∞–¥",
        "efficiency_score": 78.0,
        "workload_capacity": 6
    },
    {
        "id": 3, "name": "–°–µ—Ä–≥–µ–π –°–µ—Ä–≥–µ–µ–≤",
        "specializations": ["general", "carpenter"], # –£–Ω–∏–≤–µ—Ä—Å–∞–ª
        "district": "–ú–∏—Ä–∑–æ-–£–ª—É–≥–±–µ–∫",
        "efficiency_score": 92.0,
        "workload_capacity": 4
    }
]
```

### **2. –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π**
```python
def calculate_score(request, executor):
    # 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (40%)
    if request.category in executor.specializations:
        specialization_score = 1.0
    else:
        specialization_score = 0.5  # –ù–µ—Ç–æ—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ

    # 2. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è (30%)
    efficiency_score = executor.efficiency_score / 100.0

    # 3. –¢–µ–∫—É—â–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (20%)
    workload_score = 1.0 - (executor.current_load / executor.capacity)

    # 4. –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (10%)
    availability_score = 1.0 if executor.available else 0.0

    # –ò—Ç–æ–≥–æ–≤—ã–π –≤–∑–≤–µ—à–µ–Ω–Ω—ã–π score
    final_score = (
        specialization_score * 0.4 +
        efficiency_score * 0.3 +
        workload_score * 0.2 +
        availability_score * 0.1
    )

    return final_score
```

### **3. –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è**
- **–ù–∞—Ö–æ–¥–∏—Ç –í–°–ï–• –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π**
- **–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç score –¥–ª—è –∫–∞–∂–¥–æ–≥–æ**
- **–†–∞–Ω–∂–∏—Ä—É–µ—Ç –ø–æ —É–±—ã–≤–∞–Ω–∏—é score**
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª—É—á—à–µ–≥–æ** (–∏–ª–∏ —Ç–æ–ø-3 –¥–ª—è recommendations)

---

## üîç **–ü–†–ê–ö–¢–ò–ß–ï–°–ö–ò–ô –ü–†–ò–ú–ï–†**

### **–ó–∞—è–≤–∫–∞**: "–°—Ä–æ—á–Ω—ã–π —Ä–µ–º–æ–Ω—Ç –≤–æ–¥–æ–ø—Ä–æ–≤–æ–¥–∞ –≤ –ß–∏–ª–∞–Ω–∑–∞—Ä–µ"
```json
{
  "category": "plumber",      // –ù—É–∂–µ–Ω —Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫
  "urgency": 4,              // –í—ã—Å–æ–∫–∞—è —Å—Ä–æ—á–Ω–æ—Å—Ç—å
  "address": "–ß–∏–ª–∞–Ω–∑–∞—Ä"      // –†–∞–π–æ–Ω
}
```

### **–ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π**:

**ü•á –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ (Score: 0.875)**
- ‚úÖ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: `plumber` (—Ç–æ—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ) ‚Üí 40% * 1.0 = 0.40
- ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 85% ‚Üí 30% * 0.85 = 0.255
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞: 2/5 (60% —Å–≤–æ–±–æ–¥–µ–Ω) ‚Üí 20% * 0.6 = 0.12
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å: –¥–∞ ‚Üí 10% * 1.0 = 0.10
- **–ò–¢–û–ì–û: 0.875 (87.5%)**

**ü•à –°–µ—Ä–≥–µ–π –°–µ—Ä–≥–µ–µ–≤ (Score: 0.976)**
- ‚úÖ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: `general` (—É–Ω–∏–≤–µ—Ä—Å–∞–ª) ‚Üí 40% * 1.0 = 0.40
- ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 92% ‚Üí 30% * 0.92 = 0.276
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞: 0/4 (100% —Å–≤–æ–±–æ–¥–µ–Ω) ‚Üí 20% * 1.0 = 0.20
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å: –¥–∞ ‚Üí 10% * 1.0 = 0.10
- **–ò–¢–û–ì–û: 0.976 (97.6%)**

**ü•â –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤ (Score: 0.701)**
- ‚ùå –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: `electrician` (–Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç) ‚Üí 40% * 0.5 = 0.20
- ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 78% ‚Üí 30% * 0.78 = 0.234
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞: 1/6 (83% —Å–≤–æ–±–æ–¥–µ–Ω) ‚Üí 20% * 0.83 = 0.167
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å: –¥–∞ ‚Üí 10% * 1.0 = 0.10
- **–ò–¢–û–ì–û: 0.701 (70.1%)**

### **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –°–µ—Ä–≤–∏—Å –≤—ã–±–µ—Ä–µ—Ç **–°–µ—Ä–≥–µ—è –°–µ—Ä–≥–µ–µ–≤–∞** (—É–Ω–∏–≤–µ—Ä—Å–∞–ª —Å –≤—ã—Å—à–∏–º —Ä–µ–π—Ç–∏–Ω–≥–æ–º)

---

## ‚úÖ **–ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï - –°–ï–†–í–ò–° –†–ê–ë–û–¢–ê–ï–¢!**

### **–ß—Ç–æ AI Service –†–ï–ê–õ–¨–ù–û –¥–µ–ª–∞–µ—Ç:**
1. ‚úÖ **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞—è–≤–∫–∏** –Ω–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
2. ‚úÖ **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç 3 –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π** –ø–æ 4 –∫—Ä–∏—Ç–µ—Ä–∏—è–º
3. ‚úÖ **–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç weighted score** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ
4. ‚úÖ **–í—ã–±–∏—Ä–∞–µ—Ç –ª—É—á—à–µ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è** –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞
5. ‚úÖ **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ** –≤—ã–±–æ—Ä–∞
6. ‚úÖ **–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥** –≤—Å–µ—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
7. ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç —Å–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ** —á–µ—Ä–µ–∑ health checks

### **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å:**
- üéØ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π** –≤–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞
- üìä **–û–±—ä–µ–∫—Ç–∏–≤–Ω–∞—è –æ—Ü–µ–Ω–∫–∞** –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö
- ‚ö° **–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** (0ms response time)
- üìà **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏–π** —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º scoring
- üîÑ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

### **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Stage 1:**
- üìù –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **mock data** (3 —Ç–µ—Å—Ç–æ–≤—ã—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è)
- üíæ **–ù–µ—Ç persistence** - –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- üîó **–ù–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** —Å –¥—Ä—É–≥–∏–º–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏
- ü§ñ **–ù–µ—Ç ML** - —Ç–æ–ª—å–∫–æ rule-based –∞–ª–≥–æ—Ä–∏—Ç–º
- üó∫Ô∏è **–ù–µ—Ç geographic** - —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–π–æ–Ω–æ–≤

**–ù–æ –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –†–ê–ë–û–¢–ê–ï–¢ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

---

**üìÖ –î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: 29 —Å–µ–Ω—Ç—è–±—Ä—è 2025
**üîÑ –í–µ—Ä—Å–∏—è**: Stage 1 MVP
**‚úÖ –°—Ç–∞—Ç—É—Å**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π basic assignment —Å–µ—Ä–≤–∏—Å